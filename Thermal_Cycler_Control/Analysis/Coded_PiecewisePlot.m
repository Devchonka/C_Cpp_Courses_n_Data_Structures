t=0:.1:3000;

A1=42;
A2=53;
A3=99;
A4=95;
A5=85;
A6=50;
A7=55;
A8=60;
A9=99;
A10=95;
A11=85;
A12=50;
A13=55;


T1=120;
T2=20;
T3=50;
T4=70;
T5=20;
T6=150;
T7=20;
T8=50;
T9=70;
T10=20;
T11=60;

T12,T22=20;
T13,T23=50;
T14,T24=70;
T15,T25=20;
T16,T26=10;
T17,T27=20;
T18,T28=50;
T19,T29=70;
T20,T30=50;
T21,T31=60;


PI=atan(1)*4;
m1 = (A2-A1)/(T2);
m2= (A5-A4)/(T7);
m3=(A8-A7)/(T12);
m4=(A11-A10)/(T17);
w1 = (2 * PI)/(4*(T3));
w2 = (2 * PI)/(2*(T5));
w3 = (2 * PI)/(4*(T8));
w4 = (2 * PI)/(2*(T10));
w5 = (2 * PI)/(4*(T13));
w6 = (2 * PI)/(2*(T15));
w7 = (2 * PI)/(4*(T18));
w8 = (2 * PI)/(2*(T20));

A=A3-A2;
B=0.5*(A3-A4);
C=A5-A6;
D=0.5*(A7-A6);
E =A9-A8;
F=0.5*(A9-A10);
G=A11-A12;
H=0.5*(A13-A12);

y = ...
  (A1                    ) .* (t<T1)+ ...
  (m1*(t-T1)+A1          ) .* (T1 <= t & t < T1+T2 ) + ...
  (A2+A*sin(w1*(t-T1-T2)) ) .* (T1+T2<= t & t < T1+T2+T3) + ...
  (A3                    ) .* (T1+T2+T3 <= t & t < T1+T2+T3+T4)+ ...
  (A3-B+B*cos((w2*(t-T1-T2-T3-T4))) ) .* (T1+T2+T3+T4 <= t & t < T1+T2+T3+T4+T5)+...
  (A4                    ) .* (T1+T2+T3+T4+T5<= t & t <  T1+T2+T3+T4+T5+T6 ) + ...
  (m2*(t-T1-T2-T3-T4-T5-T6-T7)+A5          ) .* (T1+T2+T3+T4+T5+T6 <= t & t < T1+T2+T3+T4+T5+T6+T7) + ...
  (A5-C*cos(w3*(t-T1-T2-T3-T4-T5-T6-T7-T8))   ) .* (T1+T2+T3+T4+T5+T6+T7 <= t & t <  T1+T2+T3+T4+T5+T6+T7+T8)+ ...
  (A6                    ) .* (T1+T2+T3+T4+T5+T6+T7+T8<= t & t < T1+T2+T3+T4+T5+T6+T7+T8+T9) + ...
  (A6+D-D*cos(w4*(t-T1-T2-T3-T4-T5-T6-T7-T8-T9))   ) .* (T1+T2+T3+T4+T5+T6+T7+T8+T9 <= t & t < T1+T2+T3+T4+T5+T6+T7+T8+T9+T10)+...
  (A7                    ) .* (T1+T2+T3+T4+T5+T6+T7+T8+T9+T10 <= t & t <  T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11)+...
  (m3*(t-T1-T2-T3-T4-T5-T6-T7-T8-T9-T10-T11)+A7          ) .* (T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11 <= t & t < T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12)+...
  (A8+E*sin(w5*(t-T1-T2-T3-T4-T5-T6-T7-T8-T9-T10-T11-T12))    ) .* (T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12 <= t & t < T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13) + ...
  (A9          ) .* (T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13 <= t & t < T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14) + ...
  (A9-F+F*cos((w6*(t-T1-T2-T3-T4-T5-T6-T7-T8-T9-T10-T11-T12-T13-T14)))  ) .* (T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14 <= t & t < T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15)+ ...
  (A10                    ) .* (T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15 <= t & t < T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16) + ...
  (m4*(t-T1-T2-T3-T4-T5-T6-T7-T8-T9-T10-T11-T12-T13-T14-T15-T16)+A10          ) .* (T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16 <= t & t < T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17)+ ...
  (A11-G*sin(w7*(t-T1-T2-T3-T4-T5-T6-T7-T8-T9-T10-T11-T12-T13-T14-T15-T16-T17))  ) .* (T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17 <= t & t < T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17+T18)+...
  (A12                    ) .* (T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17+T18 <= t & t < T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17+T18+T19) + ...
  (A12+H+H*cos(w8*(t-T1-T2-T3-T4-T5-T6-T7-T8-T9-T10-T11-T12-T13-T14-T15-T16-T17-T18-T19-T20))   ) .* (T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17+T18+T19 <= t & t < T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17+T18+T19+T20)+ ...
  (A13                    ) .* (T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17+T18+T19+T20 <= t & t < T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17+T18+T19+T20+T21);
%   (m3*(t-T1-T2-T3-T4-T5-T6-T7-T8-T9-T10-T11)+A7          ) .* (T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17+T18+T19+T20+T21 <= t & t < T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17+T18+T19+T20+T21+T22)+...
%   (A8+E*sin(w5*(t-(T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17+T18+T19+T20+T21)))    ) .* (T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17+T18+T19+T20+T21+T22 <= t & t < T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17+T18+T19+T20+T21+T22+T23) + ...
%   (A9          ) .* (T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17+T18+T19+T20+T21+T22+T23 <= t & t < T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17+T18+T19+T20+T21+T22+T23+T24) + ...
%   (A9-F+F*cos((w6*(t-(T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17+T18+T19+T20+T21+T22+T23+T24))))  ) .* (T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17+T18+T19+T20+T21+T22+T23+T24 <= t & t < T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17+T18+T19+T20+T21+T22+T23+T24+T25)+ ...
%   (A10                    ) .* (T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17+T18+T19+T20+T21+T22+T23+T24+T25 <= t & t < T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17+T18+T19+T20+T21+T22+T23+T24+T25+T26) + ...
%   (m4*(t-(T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17+T18+T19+T20+T21+T22+T23+T24+T25+T26))+A10          ) .* (T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17+T18+T19+T20+T21+T22+T23+T24+T25+T26 <= t & t < T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17+T18+T19+T20+T21+T22+T23+T24+T25+T26+T27)+ ...
%   (A11-G*sin(w7*(t-(T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17+T18+T19+T20+T21+T22+T23+T24+T25+T26+T27)))  ) .* (T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17+T18+T19+T20+T21+T22+T23+T24+T25+T26+T27 <= t & t < T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17+T18+T19+T20+T21+T22+T23+T24+T25+T26+T27+T28)+...
%   (A12                    ) .* (T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17+T18+T19+T20+T21+T22+T23+T24+T25+T26+T27+T28 <= t & t < T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17+T18+T19+T20+T21+T22+T23+T24+T25+T26+T27+T28+T29) + ...
%   (A12+H+H*cos(w8*(t-(T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17+T18+T19+T20+T21+T22+T23+T24+T25+T26+T27+T28+T29)))   ) .* (T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17+T18+T19+T20+T21+T22+T23+T24+T25+T26+T27+T28+T29 <= t & t < T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17+T18+T19+T20+T21+T22+T23+T24+T25+T26+T27+T28+T29+T30)+ ...
%   (A13                    ) .* (T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17+T18+T19+T20+T21+T22+T23+T24+T25+T26+T27+T28+T29+T30 <= t & t < T1+T2+T3+T4+T5+T6+T7+T8+T9+T10+T11+T12+T13+T14+T15+T16+T17+T18+T19+T20+T21+T22+T23+T24+T25+T26+T27+T28+T29+T30+T31);


f= plot (t,y,'m');
hold on
set (f, 'LineWidth', 2);
axis([0 3000 0 100]);
xlabel('Time (sec)')
ylabel('Set Point Signal (*C)')
title('Set Point')
hold off
